namespace SpriteKind {
    export const barrier = SpriteKind.create()
}
function pewpew () {
    if (info.score() >= 0) {
        mySprite2 = sprites.create(img`
            .........................
            .........................
            .........................
            ....2c2b2aaaaaaaa........
            ...2c2b2a................
            ..2c2b2a.8.8.8.8.........
            .2c2b2a.8.8.8.8..........
            2c2b2a.8.8.8.8...........
            2c2b2a.8.8.8.8...........
            .2c2b2a.8.8.8.8..........
            ..2c2b2a.8.8.8.8.........
            ...2c2b2a................
            ....2c2b2aaaaaaaa........
            .........................
            .........................
            .........................
            `, SpriteKind.Projectile)
    }
    if (info.score() >= 15) {
        mySprite2 = sprites.create(img`
            .........................
            .........................
            .........................
            ....2c2b2aaaaaaaaaa......
            ...2c2b2a................
            ..2c2b2a.8.8.8.8.........
            .2c2b2a.8.8.8.8..........
            2c2b2a.8.8.8.8...........
            2c2b2a.8.8.8.8...........
            .2c2b2a.8.8.8.8..........
            ..2c2b2a.8.8.8.8.........
            ...2c2b2a................
            ....2c2b2aaaaaaaaaa......
            .........................
            .........................
            .........................
            `, SpriteKind.Projectile)
    }
    if (info.score() >= 30) {
        mySprite2 = sprites.create(img`
            .........................
            .........................
            .........................
            ....2c2b2aaaaaaaaaaaaaaaa
            ...2c2b2a................
            ..2c2b2a.8.8.8.8.........
            .2c2b2a.8.8.8.8..........
            2c2b2a.8.8.8.8...........
            2c2b2a.8.8.8.8...........
            .2c2b2a.8.8.8.8..........
            ..2c2b2a.8.8.8.8.........
            ...2c2b2a................
            ....2c2b2aaaaaaaaaaaaaaaa
            .........................
            .........................
            .........................
            `, SpriteKind.Projectile)
    }
    tiles.placeOnTile(mySprite2, tiles.getTileLocation(23, randint(1, 13)))
    mySprite2.setVelocity(speed, 0)
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (shielding == 0) {
        sheild = sprites.create(img`
            ......................
            ......................
            ......................
            ......................
            ......................
            .....96666666669......
            .....6.........6......
            ...969.........969....
            ...6......888....6....
            ..69....8869688..96...
            ..6....869999968..6...
            ..6..88699797998..6...
            ..6.8699997979968.6...
            ..68699979999979686...
            ..68999977777779986...
            ..68699999999999686...
            ..6.8699999999968.6...
            ..69.88888888888.96...
            ...6.............6....
            ...969.........969....
            .....6.........6......
            .....96666666669......
            `, SpriteKind.barrier)
        shielding = 1
    }
    animation.runImageAnimation(
    sheild,
    [img`
        ......8888888.........
        ....96666666669.......
        ...86.........68......
        ..969.........969.....
        .868.....888...868....
        .69....8869688..96....
        86....869999968..68...
        86..88699797998..68...
        86.8699997979968.68...
        8686999799999796868...
        8689999777777799868...
        8686999999999996868...
        86.8699999999968.68...
        .69.88888888888.96....
        .868...........868....
        ..969.........969.....
        ...86.........68......
        ....96666666669.......
        ......8888888.........
        ......................
        ......................
        ......................
        `,img`
        ......9999999.........
        ....86666666668.......
        ...96.........69......
        ..868.........868.....
        .969.....888...969....
        .68....8869688..86....
        96....869999968..69...
        96..88699797998..69...
        96.8699997979968.69...
        9686999799999796869...
        9689999777777799869...
        9686999999999996869...
        96.8699999999968.69...
        .68.88888888888.86....
        .969...........969....
        ..868.........868.....
        ...96.........69......
        ....86666666668.......
        ......9999999.........
        ......................
        ......................
        ......................
        `,img`
        ......6666666.........
        ....89999999998.......
        ...69.........96......
        ..898.........898.....
        .696.....888...696....
        .98....8869688..89....
        69....869999968..96...
        69..88699797998..96...
        69.8699997979968.96...
        6986999799999796896...
        6989999777777799896...
        6986999999999996896...
        69.8699999999968.96...
        .98.88888888888.89....
        .696...........696....
        ..898.........898.....
        ...69.........96......
        ....89999999998.......
        ......6666666.........
        ......................
        ......................
        ......................
        `,img`
        ......8888888.........
        ....69999999996.......
        ...89.........98......
        ..696.........696.....
        .898.....888...898....
        .96....8869688..69....
        89....869999968..98...
        89..88699797998..98...
        89.8699997979968.98...
        8986999799999796898...
        8989999777777799898...
        8986999999999996898...
        89.8699999999968.98...
        .96.88888888888.69....
        .898...........898....
        ..696.........696.....
        ...89.........98......
        ....69999999996.......
        ......8888888.........
        ......................
        ......................
        ......................
        `,img`
        ......................
        ....68888888886.......
        ...98.........89......
        ..686.........686.....
        .989.....888...989....
        .86....8869688..68....
        .8....869999968..8....
        .8..88699797998..8....
        .8.8699997979968.8....
        .88699979999979688....
        .88999977777779988....
        .88699999999999688....
        .8.8699999999968.8....
        .86.88888888888.68....
        .989...........989....
        ..686.........686.....
        ...98.........89......
        ....68888888886.......
        ......................
        ......................
        ......................
        ......................
        `,img`
        ......................
        ....98888888889.......
        ....8.........8.......
        ..989.........989.....
        ..8......888....8.....
        .89....8869688..98....
        .8....869999968..8....
        .8..88699797998..8....
        .8.8699997979968.8....
        .88699979999979688....
        .88999977777779988....
        .88699999999999688....
        .8.8699999999968.8....
        .89.88888888888.98....
        ..8.............8.....
        ..989.........989.....
        ....8.........8.......
        ....98888888889.......
        ......................
        ......................
        ......................
        ......................
        `,img`
        ......8888888.........
        ....96666666669.......
        ...86.........68......
        ..969.........969.....
        .868.....888...868....
        .69....8869688..96....
        86....869999968..68...
        86..88699797998..68...
        86.8699997979968.68...
        8686999799999796868...
        8689999777777799868...
        8686999999999996868...
        86.8699999999968.68...
        .69.88888888888.96....
        .868...........868....
        ..969.........969.....
        ...86.........68......
        ....96666666669.......
        ......8888888.........
        ......................
        ......................
        ......................
        `,img`
        ......................
        ......................
        ......................
        ......................
        .........888..........
        .......8869688........
        ......869999968.......
        ....88699797998.......
        ...8699997979968......
        ..869997999997968.....
        ..899997777777998.....
        ..869999999999968.....
        ...8699999999968......
        ....88888888888.......
        ......................
        ......................
        ......................
        ......................
        ......................
        ......................
        ......................
        ......................
        `],
    100,
    false
    )
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Projectile, function (sprite, otherSprite) {
    game.over(false, effects.dissolve)
})
scene.onHitWall(SpriteKind.Projectile, function (sprite, location) {
    sprite.destroy(effects.fire, 100)
    pewpew()
    if (speed > -120) {
        speed += change
        change += -1
        info.changeScoreBy(1)
    } else {
        info.changeScoreBy(3)
    }
})
let sheild: Sprite = null
let mySprite2: Sprite = null
let change = 0
let shielding = 0
let speed = 0
let mySprite = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . 8 8 8 . . . . . 
    . . . . . . 8 8 6 9 6 8 8 . . . 
    . . . . . 8 6 9 9 9 9 9 6 8 . . 
    . . . 8 8 6 9 9 7 9 7 9 9 8 . . 
    . . 8 6 9 9 9 9 7 9 7 9 9 6 8 . 
    . 8 6 9 9 9 7 9 9 9 9 9 7 9 6 8 
    . 8 9 9 9 9 7 7 7 7 7 7 7 9 9 8 
    . 8 6 9 9 9 9 9 9 9 9 9 9 9 6 8 
    . . 8 6 9 9 9 9 9 9 9 9 9 6 8 . 
    . . . 8 8 8 8 8 8 8 8 8 8 8 . . 
    `, SpriteKind.Player)
controller.moveSprite(mySprite, 125, 125)
mySprite.setBounceOnWall(true)
tiles.setTilemap(tilemap`level1`)
scene.cameraFollowSprite(mySprite)
speed = -70
pewpew()
pewpew()
pewpew()
shielding = 0
change = -1
info.setScore(0)
game.onUpdateInterval(100, function () {
    sheild.setPosition(mySprite.x, mySprite.y)
})
